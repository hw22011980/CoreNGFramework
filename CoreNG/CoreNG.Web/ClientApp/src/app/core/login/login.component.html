<div class="loginbg">
  <div class="container-fluid">
    <div class="row">
      <div class="col login-box">
        <div class="card  border-md login-card">
          <div class="card-body">
            <div class="box">
              <img src="./assets/icon.png" width="30" height="30" alt="">
              <span style="font-size: 15pt"><b>Login</b></span>
            </div>
            <br>

            <form (ngSubmit)="onUserLogin(f)" #f="ngForm">
              <div class="form-group">
                <input type="text" id="username" name="username" ngModel class="form-control" placeholder="Username">
              </div>
              <div class="form-group">
                <input type="password" id="password" name="password" ngModel class="form-control"
                  placeholder="Password">
              </div>
              <div class="form-group">
                <button class="btn btn-outline-primary login-button" type="submit" [disabled]="!f.valid">Login</button>
              </div>

              <!-- <div class="form-group">
                <button class="btn btn-mdoutline-danger login-button">Settings</button>
              </div> -->

              <!-- <p>
                <a href="#" class="card-link">Forgot username/password</a><br>
                <a href="#" class="card-link">Frequently Asked Questions</a><br> 
                <a href="#" class="card-link">About</a>
              </p> -->

              <!-- <span *ngIf="isLoggedIn()">{{ getToken().access_token }}</span> -->

            </form>
          </div>
        </div>
        <br>

        <div *ngIf="errorMessage" class="alert alert-danger login-card" role="alert">
          <div *ngIf="(errorCode==500);else other_content">
            <h5 class="alert-heading">Login Failed</h5>
            <p>
              Please make sure the services, database, and configuration files are properly set up and then try refreshing the login page.
            </p>
          </div>
          <ng-template #other_content>
            <div *ngIf="(errorCode==403);else other_content2">
              <h5 class="alert-heading">License key not found</h5>
              <p>
                Please contact CoreNG to get license.
              </p>
            </div>
            <ng-template #other_content2>
              <h5 class="alert-heading">Login Failed</h5>
              <p>
                {{errorMessage}}
              </p>
            </ng-template>
            </ng-template>
        </div>
        <div class="center">
          <app-spinner class="col-1" *ngIf="spinnerService.getloading(authService.getTokenUrl())"></app-spinner>
        </div>
      </div>
      <div class="col"></div>
      <div class="col"></div>
    </div>
    <div class="row fixed-bottom">
      <div class="col">
        <p class="p-4 font-weight-light">
          Â© 2021 CoreNG. All Rights Reserved.
          <a href="https://diasoft.web.id/">Privacy Policy</a> | <a
            href="https://diasoft.web.id/"> Cookies Policy </a>|
          <a href="" data-toggle="modal" data-target="#exampleModalCenter"> About </a>
        </p>
      </div>
      <div class="col"></div>
      <div class="col">
        <div class="float-right">
          <a href="https://diasoft.web.id/">
            <img src="./assets/images/icons/home.png" alt="" class="p-3">
          </a>
          <a href="https://diasoft.web.id/">
            <img src="./assets/images/icons/linkedin.png" alt="">
          </a>
          <a href="https://diasoft.web.id/">
            <img src="./assets/images/icons/facebook.png" alt="" class="p-3">
          </a>
        </div>
      </div>

    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 text-align="center" class="modal-title" id="exampleModalLongTitle">About CoreNG</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-2"><img class="ml-3 mt-3" src="./assets/icon.png" width="40" height="40" alt="">
          </div>
          <div class="col-sm-10">
            <b>CoreNG</b><span> version {{environmentVersion}}</span>
            <br>
            <b>CoreNG API</b> <span> version {{mddcsVersion}}</span>
            <br>
            <p> Copyright &copy; CoreNG 2021 </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
