<div id="error">
  <div class="error">
    <div class="error-title">
      <h1>Product Licensing and Unlock</h1>
    </div>
    <h2 *ngIf="isError">Unknown error when generate license key/unlock code. Please check your installation.
    </h2>
    <h2 *ngIf="isNoFoundLicense || isNotUnlock">License key not found or not valid. A license key is needed to use the licensed version of Aurora.
    </h2>
    <h2 *ngIf="isNoFoundUnlock">Unlock key not found. Your unlock code is <span
        style="color:blue; font-weight: 500;">{{license.unlockCode}}</span>.
      Please contact <span style="color:blue; font-weight: 500;">EDMI Limited</span> with this unlock code to obtain
      unlock
      key.</h2>
    <h2 *ngIf="isExipred">License Key is expired.
    Please contact <span style="color:blue; font-weight: 500;">EDMI Limited</span> to obtain new license key.</h2>
    <h2 *ngIf="isLicensed">Product is licensed and unlocked.</h2>
    <div *ngIf="license && license.oldLicenseKeys.length" class="key-list">
      <h3>License key list that you used before :</h3>
      <ul *ngFor = 'let key of license.oldLicenseKeys;'>
        <li>{{key}}</li>
      </ul>
    </div>
    <h3>Please fill <span style="color:blue; font-weight: 500;">{{strKey}}</span> and then submit it.</h3>
    <form [formGroup]="licenseForm" class="license-create" *ngIf="license">
      <div class="input-group input-group-sm mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text license-label" id="inputGroup-sizing-default">License key</span>
        </div>
        <textarea type="text" id="licenseKey" class="form-control" aria-label="License Key" style="resize: none;"
          aria-describedby="inputGroup-sizing-default" formControlName="licenseKey" required></textarea>
        <div class="input-group-append">
          <button id="btnSaveLicense" class="btn btn-primary license-button" type="button"
            (click)="saveLicense()" [disabled]="!licenseKey.valid">Save</button>
        </div>
      </div>
      <span *ngIf="!validLicenseKey()" class="inputError">{{licenseError}}</span>
      <div *ngIf="isNoFoundUnlock" class="input-group input-group-sm mt-3 mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text license-label" id="inputGroup-sizing-default">Unlock key</span>
        </div>
        <textarea type="text" id="unlockKey" class="form-control" aria-label="Unlock Key" style="resize: none;"
          aria-describedby="inputGroup-sizing-default" formControlName="unlockKey"
          required></textarea>
        <div class="input-group-append">
          <button id="btnSaveUnlockKey" class="btn btn-primary license-button" type="button"
            (click)="saveUnlockKey()" [disabled]="!licenseForm.valid">Save</button>
        </div>
      </div>
      <span *ngIf="!validUnlockKey()" class="inputError">{{unlockError}}</span>
    </form>
    <div class="error-footer float-center">
      <a href="" data-toggle="modal" data-target="#helpModal">Help</a>
      <span *ngIf="!isLicensed" class="spacer">|</span>
      <a *ngIf="!isLicensed" (click)="logout()">Logout</a>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 text-align="center" class="modal-title" id="helpModalTitle">Help</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="font-size: 14px;">
        <p class="text-center" style="font-size: 15px;"><b>Licensing Unlock for Aurora</b></p>
        <p><b>Step1:</b><span class="spacer"></span>Please contact <span style="color:blue;font-weight: 500;">EDMI
            Limited</span> to
          obtain the License Key for Aurora.</p>
        <p><b>Step2:</b><span class="spacer"></span>Submit the license key through the License Key entry box to save
          into Aurora.</p>
        <p><b>Step3:</b><span class="spacer"></span>On success, this page will now display an Unlock Code. Please
          contact
          <span style="color:blue;font-weight: 500;">EDMI Limited</span> with this unlock code to obtain an Unlock Key.
        </p>
        <p><b>Step4:</b><span class="spacer"></span>Submit the Unlock Key through the Unlock Key entry box to unlock
          Aurora (only in the installed computer).</p>
        <p><b>Step5:</b><span class="spacer"></span>On success, the system will return to the login page. The
          installation of Aurora is now a licensed copy.</p>
        <p class="text-center" style="font-weight: 500;">**Please contact to <span style="color:blue">EDMI
            Limited</span> for more information.</p>
      </div>
    </div>
  </div>
</div>